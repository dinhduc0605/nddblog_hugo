[{"categories":null,"content":"ThÃ´ng thÆ°á»ng cÃ¡c há»‡ thá»‘ng chá»‰ cÃ³ cÆ¡ sá»Ÿ dá»¯ liá»‡u (CSDL) cá»§a chÃ­nh nÃ³, nhÆ°ng vá»›i cÃ¡c há»‡ thá»‘ng phá»©c táº¡p hÆ¡n, liÃªn káº¿t vá»›i cÃ¡c há»‡ thá»‘ng khÃ¡c thÃ¬ nhiá»u khi sáº½ pháº£i truy cáº­p trá»±c tiáº¿p vÃ o cÃ¡c CSDL bÃªn ngoÃ i Ä‘á»ƒ láº¥y thÃ´ng tin. TrÃªn CircleCI, Ä‘á»ƒ táº¡o CSDL cá»§a chÃ­nh há»‡ thá»‘ng ta chá»‰ cáº§n gá»i bundle exec rake db:create vÃ  bundle exec rake db:migrate (á»Ÿ Ä‘Ã¢y mÃ¬nh giáº£ sá»­ cÃ¡c báº¡n sá»­ dá»¥ng Rails) lÃ  táº¥t cáº£ cÃ¡c báº£ng sáº½ tá»± Ä‘á»™ng Ä‘Æ°á»£c táº¡o ra. NhÆ°ng cÃ²n CSDL cá»§a há»‡ thá»‘ng bÃªn ngoÃ i thÃ¬ lÃ m nhÆ° tháº¿ nÃ o ? HÃ´m nay mÃ¬nh sáº½ giá»›i thiá»‡u vá»›i cÃ¡c báº¡n cÃ¡ch xá»­ lÃ½ trong tÃ¬nh huá»‘ng nÃ y. BÆ°á»›c 1: CÃ i Ä‘áº·t postgres trÃªn CircleCI CÃ i Ä‘áº·t postgres ta cáº§n cháº¡y cÃ¡c lá»‡nh sau sudo curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add - sudo apt-get update \u0026\u0026 sudo apt-get install -y postgresql-client ChÃº Ã½ trÆ°á»›c má»—i cÃ¢u lá»‡nh Ä‘á»u cáº§n thÃªm sudo vÃ¬ Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c lá»‡nh nÃ y trÃªn CircleCI ta cáº§n quyá»ƒn root BÆ°á»›c 2: Táº¡o CSDL thá»© 2 Khi Ä‘Ã£ cÃ³ postgres ta cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¢u lá»‡nh SQL Ä‘á»ƒ táº¡o CSDL nhÆ° sau psql -h localhost -U #{user_name} -c \"CREATE DATABASE #{database_name};\" user_name lÃ  giÃ¡ trá»‹ cá»§a POSTGRES_USER ta khai bÃ¡o táº¡i image postgres (giáº£ sá»­ ráº±ng báº¡n config image postgres trong file config.yml cá»§a circleci). Äá»ƒ hiá»ƒu hÆ¡n vá» cÃ¡ch viáº¿t file config.yml cÃ¡c báº¡n cÃ³ thá»ƒ Ä‘á»c bÃ i TÃ­ch há»£p CircleCI trong phÃ¡t triá»ƒn á»©ng dá»¥ng Ruby on Rails mÃ¬nh Ä‘Ã£ viáº¿t khÃ¡ lÃ¢u trÆ°á»›c Ä‘Ã¢y. BÆ°á»›c 3: Táº¡o cÃ¡c báº£ng cáº§n thiáº¿t trong CSDL Trong test case cÃ¡c báº¡n cáº§n Ä‘áº¿n báº£ng nÃ o thÃ¬ táº¡o thÃªm báº£ng Ä‘Ã³. VÃ­ dá»¥ mÃ¬nh cáº§n báº£ng User thÃ¬ sáº½ viáº¿t lá»‡nh SQL nhÆ° sau. CÃ¢u lá»‡nh khÃ¡ lÃ  dÃ i vÃ¬ váº­y mÃ¬nh cho vÃ o file users.sql rá»“i sá»­ dá»¥ng tag -f cá»§a psql. // users.sql CREATE TABLE public.users ( id serial not null primary key, name string, email string, phone string ) sá»­ dá»¥ng psql Ä‘á»ƒ táº¡o báº£ng users psql -h localhost -U #{user_name} -d #{database_name} -f users.sql BÆ°á»›c 4: Tá»•ng há»£p cÃ¡c bÆ°á»›c trÃªn Tá»« cÃ¡c bÆ°á»›c trÃªn ta sáº½ thÃªm lá»‡nh run vÃ o config.yml - run: name: Setup Secondary Database command: | sudo curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add - sudo apt-get update \u0026\u0026 sudo apt-get install -y postgresql-client psql -h localhost -U #{user_name} -c \"CREATE DATABASE #{database_name};\" psql -h localhost -U #{user_name} -d #{database_name} -f db/sql/users.sql Káº¿t quáº£ Táº¡o thÃ nh cÃ´ng CSDL vÃ  cÃ¡c báº£ng trÃªn CircleCI NhÆ° váº­y mÃ¬nh Ä‘Ã£ hÆ°á»›ng dáº«n cÃ¡c báº¡n táº¡o thÃªm CSDL thá»© 2 ngoÃ i CSDL cá»§a há»‡ thá»‘ng chÃ­nh trÃªn CircleCI. ChÃºc cÃ¡c báº¡n thÃ nh cÃ´ng! ","date":"2024-02-24","objectID":"/posts/cach-tao-nhieu-co-so-du-lieu-tren-circleci/:0:0","tags":null,"title":"CÃ¡ch táº¡o nhiá»u cÆ¡ sá»Ÿ dá»¯ liá»‡u trÃªn CircleCI","uri":"/posts/cach-tao-nhieu-co-so-du-lieu-tren-circleci/"},{"categories":null,"content":"Tuáº§n trÆ°á»›c mÃ¬nh cÃ³ Ä‘i thi Ruby báº¡c, may máº¯n lÃ  Ä‘Ã£ Ä‘á»— vÃ  Ä‘iá»ƒm sá»‘ cÅ©ng khÃ´ng tá»‡ láº¯m ğŸ˜. VÃ¬ váº­y hÃ´m nay mÃ¬nh viáº¿t bÃ i nÃ y Ä‘á»ƒ chia sáº» vá»›i má»i ngÆ°á»i cÃ¡ch há»c cá»§a mÃ¬nh Ä‘á»ƒ thi Ä‘á»— trong vÃ²ng 3 tuáº§n. Táº¥t nhiÃªn thá»i gian nÃ y cÅ©ng chá»‰ lÃ  tÆ°Æ¡ng Ä‘á»‘i, pháº£i dá»±a trÃªn kháº£ nÄƒng cá»§a tá»«ng ngÆ°á»i ná»¯a. NhÆ°ng á»Ÿ Ä‘Ã¢y mÃ¬nh giáº£ sá»­ cÃ¡c báº¡n Ä‘Ã£ cÃ³ kiáº¿n thá»©c cÄƒn báº£n vá» Ruby rá»“i nhÃ©. 1. Ruby báº¡c lÃ  gÃ¬? Tá»« nÃ£y Ä‘áº¿n giá» mÃ¬nh cá»© chá»‰ nÃ³i lÃ  Ruby báº¡c nÃªn cÃ³ láº½ nhiá»u báº¡n cÅ©ng tháº¯c máº¯c nÃ³ lÃ  cÃ¡i gÃ¬ nhá»‰. Ruby báº¡c tÃªn Ä‘áº§y Ä‘á»§ lÃ  Ruby Association Certified Ruby Programmer Silver 2.1, lÃ  chá»©ng chá»‰ do tá»• chá»©c Ruby Association cáº¥p chá»©ng nháº­n ká»¹ nÄƒng vÃ  kiáº¿n thá»©c vá» ngÃ´n ngá»¯ Ruby version 2.1. CÃ¡c báº¡n cáº§n chÃº Ã½ sá»‘ version á»Ÿ cuá»‘i, vÃ¬ vá»›i cÃ¡c version khÃ¡c nhau ngÃ´n ngá»¯ sáº½ cÃ³ nhiá»u thay Ä‘á»•i dáº«n Ä‘áº¿n Ä‘á» thi cÅ©ng sáº½ thay Ä‘á»•i theo. NgoÃ i Ruby báº¡c thÃ¬ cÃ²n cÃ³ Ruby vÃ ng, Ruby báº¡ch kim lÃ  cÃ¡c cáº¥p Ä‘á»™ cao hÆ¡n. Theo mÃ¬nh biáº¿t Ruby báº¡ch kim hiá»‡n cÃ²n Ä‘ang trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn nÃªn hiá»‡n táº¡i Ruby vÃ ng lÃ  cao nháº¥t. Hiá»‡n táº¡i ká»³ thi nÃ y chá»‰ Ä‘Æ°á»£c tá»• chá»©c táº¡i nháº­t do cÃ´ng ty Prometric thá»±c hiá»‡n. Báº¡n nÃ o muá»‘n Ä‘Äƒng kÃ½ cÃ³ thá»ƒ vÃ o link sau http://it.prometric-jp.com/testlist/ruby/index.html. CÃ¡c báº¡n cÃ³ thá»ƒ chá»n thi báº±ng tiáº¿ng Anh hoáº·c tiáº¿ng Nháº­t Ä‘á»u Ä‘Æ°á»£c. MÃ¬nh thÃ¬ chá»n tiáº¿ng Nháº­t, vÃ¬ náº¿u há»c báº±ng tiáº¿ng Nháº­t thÃ¬ vá»«a cÃ³ thÃªm kiáº¿n thá»©c chuyÃªn ngÃ nh vá»«a trau dá»“i Ä‘Æ°á»£c tiáº¿ng Nháº­t. 1 mÅ©i tÃªn trÃºng 2 con chim. Oh yeah! ğŸ¥ğŸ¥ 2. Má»¥c Ä‘Ã­ch Váº­y thi cÃ¡i chá»©ng chá»‰ nÃ y liá»‡u cÃ³ lá»£i Ã­ch gÃ¬ nhá»‰? CÃ³ giá»‘ng nhÆ° báº±ng Ä‘áº¡i há»c mang vá» kÃª chuá»™t khÃ´ng nhá»‰? ğŸ¤” Thá»© nháº¥t lá»£i Ã­ch thÃ¬ táº¥t nhiÃªn lÃ  pháº£i cÃ³ rá»“i, khÃ´ng thÃ¬ cháº¯c mÃ¬nh cÅ©ng khÃ´ng thi Ä‘Ã¢u, tá»‘n tiá»n láº¯m ğŸ˜­, táº­n 1.6 man láº­n (gáº§n 3.5tr VND). Äáº§u tiÃªn pháº£i ká»ƒ Ä‘áº¿n lÃ  báº¡n cÃ³ thá»ƒ viáº¿t vÃ o CV, khi Ä‘i xin viá»‡c cháº¯c cháº¯n sáº½ Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡ cao hÆ¡n nhá»¯ng ngÆ°á»i khÃ´ng cÃ³ rá»“i. Tiáº¿p Ä‘áº¿n lÃ  thá»ƒ hiá»‡n sá»± phÃ¡t triá»ƒn cá»§a báº£n thÃ¢n cho ngÆ°á»i khÃ¡c biáº¿t, Ä‘áº·c biá»‡t lÃ  sáº¿p á»Ÿ cÃ´ng ty rá»“i. Náº¿u nhÆ° á»Ÿ cÃ´ng ty báº¡n cáº£m tháº¥y chÆ°a cÃ³ gÃ¬ ná»•i trá»™i so vá»›i cÃ¡c Ä‘á»™ng nghiá»‡p khÃ¡c, trong khi ngÃ´n ngá»¯ cÅ©ng chÆ°a giá»i, thÃ¬ mÃ¬nh nghÄ© cÃ¡ch tá»‘t nháº¥t Ä‘á»ƒ thá»ƒ hiá»‡n mÃ¬nh chÃ­nh lÃ  qua cÃ¡c báº±ng chá»©ng nháº­n nhÆ° tháº¿ nÃ y. Thá»© hai nÃ³ khÃ´ng giá»‘ng nhÆ° báº±ng Ä‘áº¡i há»c Ä‘á»ƒ kÃª chuá»™t Ä‘Ã¢u nhÃ©, vÃ¬ nÃ³ lÃ  e-certificate mÃ , sáº½ Ä‘Æ°á»£c gá»­i tá»›i qua mail, lÃ m sao mÃ  kÃª chuá»™t Ä‘Æ°á»£c ğŸ˜‚ 3. TÃ i liá»‡u VÃ¬ mÃ¬nh thi báº±ng tiáº¿ng Nháº­t nÃªn nhá»¯ng tÃ i liá»‡u tiáº¿ng Anh mÃ¬nh cÅ©ng khÃ´ng rÃµ láº¯m. NhÆ°ng mÃ¬nh nghÄ© lÃ  khÃ´ng thiáº¿u Ä‘Ã¢u, cÃ¡c báº¡n tÃ¬m thá»­ trÃªn Google nhÃ©, mÃ¬nh vá»«a tÃ¬m thÃ¬ tháº¥y cÅ©ng cÃ³ nhiá»u láº¯m. Trong bÃ i viáº¿t nÃ y mÃ¬nh sáº½ chá»‰ giá»›i thiá»‡u cÃ¡c tÃ i liá»‡u tiáº¿ng Nháº­t mÃ¬nh Ä‘Ã£ sáº½ dá»¥ng thÃ´i. ","date":"2024-02-24","objectID":"/posts/cach_do_ruby_bac_trong_3_tuan/:0:0","tags":null,"title":"CÃ¡ch Ä‘á»— Ruby báº¡c trong 3 tuáº§n","uri":"/posts/cach_do_ruby_bac_trong_3_tuan/"},{"categories":null,"content":"Ruby æŠ€è¡“è€…èªå®šè©¦é¨“ åˆæ ¼æ•™æœ¬ Tá»« tÃªn sÃ¡ch ta cÅ©ng tháº¥y Ä‘Æ°á»£c má»¥c Ä‘Ã­ch cá»§a cuá»‘n nÃ y lÃ  Ä‘á»ƒ luyá»‡n thi Ruby báº¡c vÃ  vÃ ng, vÃ¬ váº­y mÃ  kiáº¿n thá»©c cÅ©ng nhÆ° Ä‘á» thi thá»­ trong sÃ¡ch ráº¥t sÃ¡t vá»›i Ä‘á» thi tháº­t. Ráº¥t tiáº¿c lÃ  sÃ¡ch nÃ y chá»‰ cÃ³ báº£n tiáº¿ng Nháº­t, chÆ°a cÃ³ báº£n tiáº¿ng Anh, tháº¿ nÃªn Ä‘Ã¢y cÅ©ng lÃ  1 trong nhá»¯ng lÃ½ do mÃ  mÃ¬nh chá»n thi báº±ng tiáº¿ng Nháº­t Ä‘áº¥y. CÃ¡c báº¡n cÃ³ thá»ƒ mua sÃ¡ch táº¡i Amazon ","date":"2024-02-24","objectID":"/posts/cach_do_ruby_bac_trong_3_tuan/:0:1","tags":null,"title":"CÃ¡ch Ä‘á»— Ruby báº¡c trong 3 tuáº§n","uri":"/posts/cach_do_ruby_bac_trong_3_tuan/"},{"categories":null,"content":"Rex - Ruby examination ÄÃ¢y lÃ  trang web luyá»‡n Ä‘á» thi thá»­ Ruby khÃ¡ lÃ  hay. Máº·c dÃ¹ sá»‘ lÆ°á»£ng cÃ¢u há»i cÅ©ng khÃ´ng nhiá»u láº¯m, quanh Ä‘i quáº©n láº¡i cÅ©ng chá»‰ khoáº£ng 70-80 cÃ¢u nhÆ°ng mÃ¬nh nghÄ© náº¯m rÃµ nhá»¯ng cÃ¢u há»i Ä‘Ã³ cÅ©ng Ä‘á»§ Ä‘á»ƒ thi rá»“i. https://rex.libertyfish.co.jp 4. QuÃ¡ trÃ¬nh há»c Äá»ƒ cÃ³ thá»ƒ Ä‘áº¡t hiá»‡u quáº£ cao nháº¥t thÃ¬ ngay tá»« Ä‘áº§u mÃ¬nh xÃ¡c Ä‘á»‹nh trÆ°á»›c nhá»¯ng pháº§n cáº§n pháº£i há»c. RÃµ rÃ ng lÃ  hiá»‡n táº¡i mÃ¬nh sáº½ thi Ruby báº¡c thÃ¬ khÃ´ng nháº¥t thiáº¿t pháº£i há»c cáº£ nhá»¯ng pháº§n liÃªn quan Ä‘áº¿n Ruby vÃ ng. VÃ¬ váº­y mÃ¬nh chá»‰ táº­p trung há»c nhá»¯ng cÃ¡i cáº§n thiáº¿t thÃ´i. Äá»“ng thá»i phÃ¢n chia thá»i gian vá»›i tá»«ng má»¥c tiÃªu cá»¥ thá»ƒ nhÆ° sau: Trong tuáº§n má»—i ngÃ y 1h, Cuá»‘i tuáº§n má»—i ngÃ y 4h. Äá»c qua sÃ¡ch 1 lÆ°á»£t Ä‘á»ƒ hiá»ƒu Ä‘Æ°á»£c Ä‘áº¡i khÃ¡i ná»™i dung: 1.5 tuáº§n Ä‘áº§u tiÃªn. VÃ¬ lÃ  láº§n Ä‘áº§u Ä‘á»c sÃ¡ch chuyÃªn ngÃ nh báº±ng tiáº¿ng Nháº­t nÃªn cÃ²n nhiá»u tá»« má»›i, mÃ¬nh dÃ nh khÃ¡ nhiá»u thá»i gian Ä‘á»ƒ tra tá»«, tá»« nÃ o khÃ´ng biáº¿t pháº£i tra ngay láº­p tá»©c, khÃ´ng Ä‘Æ°á»£c bá» qua, vÃ¬ náº¿u tháº¿ láº§n sau gáº·p láº¡i tá»« Ä‘Ã³ mÃ¬nh váº«n khÃ´ng biáº¿t, nhÆ° váº­y thÃ¬ khÃ´ng trÃºng con chim thá»© 2 lÃ  há»c thÃªm tiáº¿ng Nháº­t chuyÃªn ngÃ nh rá»“i ğŸ˜‚ Äá»c láº¡i sÃ¡ch láº§n 2 vÃ  lÃ m Ä‘á» thi thá»­: 1 tuáº§n tiáº¿p theo. Äáº¿n thá»i Ä‘iá»ƒm nÃ y thÃ¬ kháº£ nÄƒng Ä‘á»c cÅ©ng tÄƒng nhanh Ä‘Ã¡ng ká»ƒ, nhá»¯ng tá»« cÆ¡ báº£n háº§u nhÆ° Ä‘Ã£ quen háº¿t rá»“i. Äá»“ng thá»i cÅ©ng Ä‘Ã£ náº¯m Ä‘Æ°á»£c ná»™i dung cÆ¡ báº£n, láº§n Ä‘á»c thá»© 2 nÃ y Ä‘á»ƒ nhá»› rÃµ hÆ¡n vÃ  giáº£i nghÄ©a sÃ¢u hÆ¡n vá» cÃ¡c Ä‘á»‹nh nghÄ©a cÅ©ng nhÆ° cÃ¡ch váº­n dá»¥ng cÃ¡c lÃ½ thuyáº¿t cÃ³ trong sÃ¡ch. Vá»«a Ä‘á»c mÃ¬nh vá»«a note láº¡i nhá»¯ng Ä‘iá»u cáº§n chÃº Ã½ hay cáº£m tháº¥y lÃ  dá»… quÃªn. VÃ  sau khi xong thÃ¬ cÃ³ táº­p giáº¥y nhá» nhá» nhÆ° tháº¿ nÃ y. Ã”n táº­p kiáº¿n thá»©c vÃ  lÃ m Ä‘i lÃ m láº¡i cÃ¡c Ä‘á» thi thá»­: 0.5 tuáº§n cuá»‘i cÃ¹ng. ÄÃ¢y lÃ  lÃºc mÃ  táº­p giáº¥y note cá»§a mÃ¬nh phÃ¡t huy tÃ¡c dá»¥ng. Má»—i ngÃ y mÃ¬nh Ä‘á»u Ä‘á»c láº¡i 1 láº§n vÃ¬ Ä‘Ã¢y lÃ  nhá»¯ng Ä‘iá»u mÃ¬nh cho lÃ  quan trá»ng nháº¥t. Äá»“ng thá»i ngÃ y lÃ m 1 Ä‘á» thi thá»­ trÃªn trang Rex . ChÃº Ã½ lÃ  sau khi lÃ m cÃ¡c báº¡n pháº£i kiá»ƒm tra káº¿t quáº£, hiá»ƒu rÃµ Ä‘Æ°á»£c vÃ¬ sao mÃ¬nh Ä‘Ãºng hay vÃ¬ sao mÃ¬nh sai. Náº¿u khÃ´ng xem láº¡i thÃ¬ mÃ¬nh nghÄ© dÃ¹ lÃ m nhiá»u Ä‘á» cÅ©ng khÃ´ng cÃ³ nhiá»u Ã½ nghÄ©a Ä‘Ã¢u. CÃ³ láº½ sáº½ cÃ³ báº¡n há»i táº¡i sao cÃ¢u Ä‘Ãºng cÅ©ng pháº£i kiá»ƒm tra nhá»‰? VÃ¬ nhiá»u lÃºc dÃ¹ lÃ  cÃ¢u Ä‘Ãºng nhÆ°ng mÃ¬nh khÃ´ng cháº¯c cháº¯n 100%, chá»‰ lÃ  chá»n theo cáº£m tÃ­nh mÃ  láº¡i Ä‘Ãºng thÃ´i. MÃ¬nh cáº§n lÃ  sá»± hiá»ƒu rÃµ vÃ  lÃ½ giáº£i Ä‘Æ°á»£c táº¡i sao chá»© khÃ´ng pháº£i lÃ  may máº¯n. 5. Nhá»¯ng Ä‘iá»u cáº§n chÃº Ã½ Khoáº£ng 60-70% cÃ¢u há»i lÃ  vá» cÃ¡c phÆ°Æ¡ng thá»©c cá»§a Array vÃ  Hash. VÃ¬ váº­y cáº§n náº¯m rÃµ kiáº¿n thá»©c vá» 2 pháº§n nÃ y. Äáº·c biá»‡t lÃ  phÃ¢n biá»‡t method lÃ  ç ´å£Šçš„ (destructive) hay éç ´å£Šçš„ (nondestructive). Äá»c ká»¹ Ä‘á» vÃ¬ sáº½ cÃ³ 1 sá»‘ cÃ¢u dá»… gÃ¢y nháº§m láº«n. VÃ­ dá»¥ tá»« 1.9 trá»Ÿ Ä‘i Hash cÃ³ thá»ƒ viáº¿t dÆ°á»›i dáº¡ng { a: 1, b: 2 } nhÆ°ng chá»‰ cÃ³ thá»ƒ dÃ¹ng symbol trÆ°á»›c dáº¥u :, náº¿u lÃ  string nhÆ° sau thÃ¬ khÃ´ng Ä‘Æ°á»£c { â€˜aâ€™: 1, â€˜bâ€™: 2 }. Nhá»› ká»¹ cÃ¡c method cÃ³ chá»©c nÄƒng giá»‘ng nhau nhÆ° map vÃ  collect, delete vÃ  reject!â€¦ Gáº·p nhá»¯ng cÃ¢u khÃ³ thÃ¬ nÃªn bá» qua, lÃ m cÃ¡c cÃ¢u dá»… trÆ°á»›c, nhÆ° váº­y khi lÃ m háº¿t 1 lÆ°á»£t mÃ¬nh sáº½ Ä‘oÃ¡n Ä‘áº¡i khÃ¡i Ä‘Æ°á»£c Ä‘iá»ƒm sá»‘ cá»§a mÃ¬nh, náº¿u cáº£m tháº¥y á»•n thÃ¬ tinh tháº§n sáº½ thoáº£i mÃ¡i hÆ¡n, quay láº¡i lÃ m cÃ¡c cÃ¢u cÃ²n láº¡i sáº½ dá»… dÃ ng hÆ¡n. Cuá»‘i cÃ¹ng, Ä‘iá»u Ä‘áº·c biá»‡t quan trá»ng lÃ  tÃ¬m sáºµn Ä‘Æ°á»ng Ä‘i Ä‘áº¿n nÆ¡i dá»± thi, nÃªn Ä‘áº¿n sá»›m trÆ°á»›c khoáº£ng 20 phÃºt Ä‘á» phÃ²ng gáº·p chuyá»‡n khÃ´ng may. NhÆ° mÃ¬nh Ä‘i ráº¥t lÃ  sá»›m, cá»© cháº¯c máº©m lÃ  Ä‘áº¿n Ä‘á»£i lÃ¢u rá»“i, tháº¿ mÃ  khÃ´ng ngá» vÃ o nháº§m cá»­a ga, Ä‘Ã¡ng láº½ Ä‘i tÃ u Ä‘iá»‡n ngáº§m láº¡i vÃ o cá»­a Ä‘i tÃ u Ä‘iá»‡n trÃªn cao. Rá»“i Ä‘áº¿n nÆ¡i thÃ¬ tÃ¬m mÃ£i khÃ´ng tháº¥y lá»‘i vÃ o, loay hoay mÃ£i má»›i vÃ o Ä‘Æ°á»£c thÃ¬ vá»«a ká»‹p giá». NÃªn quyáº¿t tÃ¢m sau nÃ y cá»© lÃ m gÃ¬ quan trá»ng Ä‘i sá»›m 20, 30 phÃºt cho cháº¯c ğŸ˜–. 6. Káº¿t quáº£ ","date":"2024-02-24","objectID":"/posts/cach_do_ruby_bac_trong_3_tuan/:0:2","tags":null,"title":"CÃ¡ch Ä‘á»— Ruby báº¡c trong 3 tuáº§n","uri":"/posts/cach_do_ruby_bac_trong_3_tuan/"},{"categories":null,"content":"Hi vá»ng bÃ i viáº¿t cá»§a mÃ¬nh sáº½ giÃºp Ã­ch cho nhá»¯ng báº¡n sáº¯p tá»›i cÃ³ dá»± Ä‘á»‹nh thi Ruby báº¡c nhÃ© âœŠ ","date":"2024-02-24","objectID":"/posts/cach_do_ruby_bac_trong_3_tuan/:0:3","tags":null,"title":"CÃ¡ch Ä‘á»— Ruby báº¡c trong 3 tuáº§n","uri":"/posts/cach_do_ruby_bac_trong_3_tuan/"},{"categories":null,"content":"Dáº¡o nÃ y á»Ÿ cÃ´ng ty mÃ¬nh hay Ä‘Æ°á»£c giao task láº¥y dá»¯ liá»‡u trá»±c tiáº¿p tá»« database theo yÃªu cáº§u cá»§a bÃªn sale. VÃ  Ä‘á»ƒ lÃ m Ä‘Æ°á»£c thÃ¬ táº¥t nhiÃªn lÃ  pháº£i viáº¿t raw query rá»“i. Thá»±c sá»± thÃ¬ trÆ°á»›c mÃ¬nh cÅ©ng chá»‰ má»›i náº¯m Ä‘Æ°á»£c cÃ¡c kiáº¿n thá»©c cÆ¡ báº£n cá»§a SQL thÃ´i chá»© cÅ©ng chÆ°a cÃ³ nhiá»u cÆ¡ há»™i thá»±c hÃ nh nÃªn váº«n gÃ  má» láº¯m ğŸ˜­. Má»›i Ä‘áº§u Ä‘á»ƒ viáº¿t Ä‘c query thoáº£ mÃ£n cÃ¡c yÃªu cáº§u thÃ¬ háº§u nhÆ° mÃ¬nh pháº£i google liÃªn tá»¥c, Ä‘á»™ng vÃ o cÃ¡i gÃ¬ cÅ©ng lÆ¡ mÆ¡, ráº¥t lÃ  khÃ³ chá»‹u vÃ  máº¥t thá»i gian. NhÆ°ng dáº§n dáº§n mÃ¬nh cÅ©ng quen hÆ¡n, nhá»› Ä‘Æ°á»£c nhiá»u cÃ¢u lá»‡nh hÆ¡n, vÃ  cáº£m tháº¥y viá»‡c viáº¿t SQL khÃ¡ lÃ  thÃº vá»‹ ğŸ˜Œ. MÃ¬nh nháº­n ra ráº±ng há»c vÃ  nhá»› Ä‘Æ°á»£c lÃ½ thuyáº¿t lÃ  1 chuyá»‡n, cÃ²n Ä‘á»ƒ Ã¡p dá»¥ng nÃ³ vÃ o thá»±c táº¿ láº¡i 1 chuyá»‡n khÃ¡c khÃ´ng há» Ä‘Æ¡n giáº£n. VÃ¬ váº­y trong bÃ i viáº¿t nÃ y mÃ¬nh sáº½ khÃ´ng Ä‘á» cáº­p Ä‘áº¿n cÃ¡c kiáº¿n thá»©c vá» SQL mÃ  sáº½ táº­p trung vÃ o cÃ¡c trÆ°á»ng há»£p cá»¥ thá»ƒ. LÆ°u Ã½ lÃ  cÃ¡c cÃ¢u lá»‡nh dÆ°á»›i Ä‘Ã¢y Ä‘á»u Ä‘Æ°á»£c viáº¿t báº±ng PostgreSQL nhÃ©, nÃªn cÃ³ thá»ƒ sáº½ khÃ´ng Ä‘Ãºng Ä‘á»‘i vá»›i MySQL, SQLiteâ€¦ MÃ¬nh sáº½ thá»±c hiá»‡n truy váº¥n Ä‘á»‘i vá»›i cÃ¡c báº£ng nhÆ° trong hÃ¬nh sau: CÃ¡c trÆ°á»ng há»£p ","date":"2024-02-24","objectID":"/posts/cac_cau_lenh_huu_ich_khi_lam_viec_voi_postgresql/:0:0","tags":null,"title":"CÃ¡c cÃ¢u lá»‡nh há»¯u Ã­ch khi lÃ m viá»‡c vá»›i PostgreSQL","uri":"/posts/cac_cau_lenh_huu_ich_khi_lam_viec_voi_postgresql/"},{"categories":null,"content":"1. TÃ¬m cÃ¡c bÃ i viáº¿t cÃ³ chá»©a 1 trong nhiá»u tá»« khoÃ¡, vÃ­ dá»¥ A B C ThÃ´ng thÆ°á»ng cÃ¡ch Ä‘Æ¡n giáº£n nháº¥t lÃ  sá»­ dá»¥ng LIKE nhiá»u láº§n vá»›i tá»«ng giÃ¡ trá»‹ select * from posts where content like '%A%' or content like '%B%' or content like '%C%' NhÆ°ng nhÆ° váº­y ta pháº£i láº·p láº¡i content LIKE nhiá»u láº§n, ráº¥t lÃ  báº¥t tiá»‡n. Nhá»¯ng lÃºc nhÆ° váº­y ta cÃ³ thá»ƒ sá»­ dá»¥ng tá»« khoÃ¡ SIMILAR TO nhÆ° sau select * from posts where content similar to '%(A|B|C)%'; ","date":"2024-02-24","objectID":"/posts/cac_cau_lenh_huu_ich_khi_lam_viec_voi_postgresql/:0:1","tags":null,"title":"CÃ¡c cÃ¢u lá»‡nh há»¯u Ã­ch khi lÃ m viá»‡c vá»›i PostgreSQL","uri":"/posts/cac_cau_lenh_huu_ich_khi_lam_viec_voi_postgresql/"},{"categories":null,"content":"2. TrÃ­ch xuáº¥t tÃªn táº¥t cáº£ cÃ¡c user vÃ  tÃªn bÃ i viáº¿t gáº§n nháº¥t cá»§a há» CÃ³ 2 cÃ¡ch nhÆ° sau select u.name, p.title from users u join posts p on p.id = (select max(p2.id) from posts p2 where p2.user_id = u.id group by p2.user_id) select u.name, p.title from users u join posts p on p.user_id = u.id left join posts p2 on p2.user_id = u.id and p.id \u003c p2.id where p2.id isnull ","date":"2024-02-24","objectID":"/posts/cac_cau_lenh_huu_ich_khi_lam_viec_voi_postgresql/:0:2","tags":null,"title":"CÃ¡c cÃ¢u lá»‡nh há»¯u Ã­ch khi lÃ m viá»‡c vá»›i PostgreSQL","uri":"/posts/cac_cau_lenh_huu_ich_khi_lam_viec_voi_postgresql/"},{"categories":null,"content":"3. Káº¿t há»£p cÃ¡c cá»™t vá»›i nhau thÃ nh 1 cá»™t vá»›i || Khi báº¡n muá»‘n trÃ­ch xuáº¥t dá»¯ liá»‡u gá»™p tá»« nhiá»u cá»™t hay sá»­ dá»¥ng toÃ¡n tá»­ ||. select 'BÃ i viáº¿t ' || p.title || ' tá»« ngÃ y ' || p.created_at::date from posts Vá»›i cÃ¢u lá»‡nh trÃªn ta sáº½ láº¥y Ä‘Æ°á»£c nhá»¯ng káº¿t quáº£ dáº¡ng nhÆ° sau BÃ i viáº¿t CÃ¡c cÃ¢u lá»‡nh há»¯u Ã­ch khi lÃ m viá»‡c vá»›i PostgreSQL tá»« ngÃ y 2019-05-02 ","date":"2024-02-24","objectID":"/posts/cac_cau_lenh_huu_ich_khi_lam_viec_voi_postgresql/:0:3","tags":null,"title":"CÃ¡c cÃ¢u lá»‡nh há»¯u Ã­ch khi lÃ m viá»‡c vá»›i PostgreSQL","uri":"/posts/cac_cau_lenh_huu_ich_khi_lam_viec_voi_postgresql/"},{"categories":null,"content":"4. TrÃ­ch xuáº¥t cÃ¡c bÃ i viáº¿t theo thá»i gian cÃ¹ng mÃºi giá» CÃ¡c database thÆ°á»ng Ä‘Æ°á»£c lÆ°u dÆ°á»›i mÃºi giá» lÃ  0, trong khi á»Ÿ Nháº­t cÃ³ mÃºi giá» lÃ  +9. VÃ¬ váº­y khi cÃ³ cÃ¡c Ä‘iá»u kiá»‡n liÃªn quan Ä‘áº¿n thá»i gian ta cáº§n chÃº Ã½ cá»™ng thÃªm 9 giá» Ä‘á»ƒ Ä‘Æ°á»£c káº¿t quáº£ chÃ­nh xÃ¡c. Trong vÃ­ dá»¥ nÃ y ta sáº½ láº¥y ra cÃ¡c bÃ i viáº¿t Ä‘Æ°á»£c viáº¿t tá»« nÃ y 01/03/2019 Ä‘áº¿n ngÃ y 01/04/2019 select id, title from posts where (created_at + interval '9 hours')::date between '2019-03-01' and '2019-04-01' Ta sá»­ dá»¥ng interval Ä‘á»ƒ cá»™ng thÃªm 9 giá» vÃ o created_at rá»“i dÃ¹ng ::date Ä‘á»ƒ Ã©p kiá»ƒu tá»« datetime vá» date sau Ä‘Ã³ so sÃ¡nh nhÆ° bÃ¬nh thÆ°á»ng. ","date":"2024-02-24","objectID":"/posts/cac_cau_lenh_huu_ich_khi_lam_viec_voi_postgresql/:0:4","tags":null,"title":"CÃ¡c cÃ¢u lá»‡nh há»¯u Ã­ch khi lÃ m viá»‡c vá»›i PostgreSQL","uri":"/posts/cac_cau_lenh_huu_ich_khi_lam_viec_voi_postgresql/"},{"categories":null,"content":"5. Kiá»ƒm tra 1 hay nhiá»u giÃ¡ trá»‹ cÃ³ náº±m trong trÆ°á»ng Ä‘á»‹nh dáº¡ng array hay khÃ´ng Giáº£ sá»­a trong báº£ng Post cÃ³ trÆ°á»ng like_user_ids dáº¡ng array, dÃ¹ng Ä‘á»ƒ lÆ°u id cá»§a nhá»¯ng ngÆ°á»i Ä‘Ã£ like bÃ i viáº¿t cháº³ng háº¡n. Äá»ƒ tÃ¬m nhá»¯ng bÃ i viáº¿t mÃ  nhá»¯ng user cÃ³ id = 1, 2, 3â€¦ Ä‘Ã£ like ta sá»­ dá»¥ng toÃ¡n tá»­ @\u003e nhÆ° sau: select id, title from posts where like_user_ids @\u003e Array[1, 2, 3] ","date":"2024-02-24","objectID":"/posts/cac_cau_lenh_huu_ich_khi_lam_viec_voi_postgresql/:0:5","tags":null,"title":"CÃ¡c cÃ¢u lá»‡nh há»¯u Ã­ch khi lÃ m viá»‡c vá»›i PostgreSQL","uri":"/posts/cac_cau_lenh_huu_ich_khi_lam_viec_voi_postgresql/"},{"categories":null,"content":"6. Láº¥y tá»•ng sá»‘ lÆ°á»£ng trong theo tá»«ng khoáº£ng thá»i gian Trong trÆ°á»ng há»£p ta muá»‘n láº¥y sá»‘ bÃ i Ä‘Æ°á»£c viáº¿t theo tá»«ng ngÃ y thÃ¬ náº¿u nhÆ° thá»i gian á»Ÿ Ä‘á»‹nh dáº¡ng date ta chá»‰ viá»‡c Ä‘Æ¡n giáº£n lÃ  group_by(date) lÃ  xong, nhÆ°ng náº¿u lÃ  Ä‘á»‹nh dáº¡ng timestamp thÃ¬ ta khÃ´ng thá»ƒ group_by Ä‘Æ°á»£c vÃ¬ khi Ä‘Ã³ thá»i gian Ä‘Æ°á»£c tÃ­nh Ä‘áº¿n báº±ng giÃ¢y. VÃ¬ váº­y ta sáº½ dÃ¹ng to_char Ä‘á»ƒ Ä‘á»•i thá»i gian vá» dáº¡ng thÃ¡ng rá»“i group_by theo dá»¯ liá»‡u Ä‘Ã³. select to_char(created_at, 'YYYYå¹´MMæœˆ') monthly, count(id) count from posts where created_at between '2019-01-01' and '2019-05-31' group by monthly; Tá»•ng káº¿t TrÃªn Ä‘Ã¢y lÃ  1 sá»‘ á»©ng dá»¥ng trong cÃ¡c trÆ°á»ng há»£p cá»¥ thá»ƒ, hi vá»ng sáº½ giÃºp Ã­ch cho cÃ¡c báº¡n trong nhá»¯ng trÆ°á»ng há»£p tÆ°Æ¡ng tá»±. MÃ¬nh sáº½ cáº­p nháº­t thÃªm cÃ¡c vÃ­ dá»¥ khÃ¡c dáº§n dáº§n, cÃ¡c báº¡n nhá»› theo dÃµi bÃ i viáº¿t nÃ y thÆ°á»ng xuyÃªn nhÃ© ğŸ˜˜ ","date":"2024-02-24","objectID":"/posts/cac_cau_lenh_huu_ich_khi_lam_viec_voi_postgresql/:0:6","tags":null,"title":"CÃ¡c cÃ¢u lá»‡nh há»¯u Ã­ch khi lÃ m viá»‡c vá»›i PostgreSQL","uri":"/posts/cac_cau_lenh_huu_ich_khi_lam_viec_voi_postgresql/"},{"categories":null,"content":"Rails thÆ°á»ng Ä‘Æ°á»£c cho lÃ  framework ráº¥t dá»… há»c vÃ  lÃ m quen, báº£n thÃ¢n mÃ¬nh cÅ©ng cho lÃ  nhÆ° váº­y. Náº¿u chá»‰ lÃ  lÃ m nhá»¯ng trang web cÆ¡ báº£n nhÆ° bÃ¡n hÃ ng, blogâ€¦ thÃ¬ cÃ³ láº½ chá»‰ cáº§n há»c vÃ i tuáº§n, thÃªm chÃºt kiáº¿n thá»©c vá» bootstrap, jquery lÃ  Ä‘Ã£ Ä‘á»§ dÃ¹ng. NhÆ°ng, Ä‘á»ƒ cÃ³ thá»ƒ náº¯m vá»¯ng, tá»‘i Æ°u Ä‘Æ°á»£c há»‡ thá»‘ng vÃ  phá»¥c vá»¥ lÆ°á»£ng ngÆ°á»i dÃ¹ng lá»›n thÃ¬ láº¡i lÃ  1 chuyá»‡n khÃ¡c. Äá»ƒ hiá»ƒu sÃ¢u vá» Rails ta cÅ©ng cáº§n pháº£i Ä‘áº§u tÆ° thá»i gian nhiá»u nhÆ° nhá»¯ng ngÃ´n ngá»¯ vÃ  framework khÃ¡c. ChÃºng ta khÃ´ng thá»ƒ mong Ä‘á»£i ráº±ng cÃ¡c váº¥n Ä‘á» sáº½ tá»± nhiÃªn biáº¿n máº¥t chá»‰ vÃ¬ chuyá»ƒn sang dÃ¹ng 1 cÃ´ng cá»¥ nhanh hÆ¡n. 1 thuáº­t toÃ¡n cháº¡y cháº­m trong C++ thÃ¬ háº³n nhiÃªn nÃ³ cÅ©ng cháº¡y cháº­m trong Ruby ğŸ˜”. Trong Rails khi nÃ³i Ä‘áº¿n cáº£i thiá»‡n hiá»‡u nÄƒng thÃ¬ cÃ³ ráº¥t nhiá»u khÃ­a cáº¡nh cáº§n quan tÃ¢m, trong Ä‘Ã³ Ä‘áº·c biá»‡t pháº£i nÃ³i Ä‘áº¿n lÃ  viá»‡c truy váº¥n Ä‘áº¿n database. VÃ  váº¥n Ä‘á» mÃ  anh em chÃºng ta thÆ°á»ng máº¯c pháº£i (khÃ´ng biáº¿t hoáº·c biáº¿t mÃ  bá» qua), Ä‘Ã³ lÃ  cÃ¡c N + 1 queries . N + 1 queries lÃ  gÃ¬? Äá»ƒ hiá»ƒu rÃµ vá» váº¥n Ä‘á» nÃ y thÃ¬ mÃ¬nh sáº½ dÃ¹ng vÃ­ dá»¥ sau Ä‘á»ƒ cÃ¡c báº¡n dá»… hÃ¬nh dung: class Category \u003c ActiveRecord::Base has_many :posts end class Post \u003c ActiveRecord::Base belongs_to :category end ÄÃ¢y lÃ  vÃ­ dá»¥ khÃ¡ Ä‘iá»ƒn hÃ¬nh khi lÃ m 1 trang blog, báº¡n cÃ³ 2 class lÃ  Category vÃ  Post cÃ³ má»‘i quan há»‡ nhÆ° trÃªn. Giáº£ sá»­ khi muá»‘n hiá»ƒn thá»‹ tÃªn category cá»§a 5 bÃ i Ä‘Äƒng gáº§n Ä‘Ã¢y nháº¥t ta thÆ°á»ng lÃ m nhÆ° sau: # Táº¡i controller @lasted_posts = Post.order(:published).limit(5) # Táº¡i View @lasted_posts.each do |post| \u003c%= post.category.name %\u003e end NhÃ¬n qua thÃ¬ cÃ³ váº» nhÆ° khÃ´ng cÃ³ váº¥n Ä‘á» gÃ¬ nhÆ°ng khi kiá»ƒm tra trÃªn cosole ta sáº½ tháº¥y cÃ¡c query Ä‘Æ°á»£c sinh ra nhÆ° sau: Post Load (0.5ms) SELECT \"posts\".* FROM \"posts\" ORDER BY \"posts\".\"published\" ASC LIMIT $1 [[\"LIMIT\", 5]] Category Load (0.3ms) SELECT \"categories\".* FROM \"categories\" WHERE \"categories\".\"id\" = $1 LIMIT $2 [[\"id\", 2], [\"LIMIT\", 1]] Category Load (0.2ms) SELECT \"categories\".* FROM \"categories\" WHERE \"categories\".\"id\" = $1 LIMIT $2 [[\"id\", 3], [\"LIMIT\", 1]] Category Load (0.2ms) SELECT \"categories\".* FROM \"categories\" WHERE \"categories\".\"id\" = $1 LIMIT $2 [[\"id\", 3], [\"LIMIT\", 1]] Category Load (0.2ms) SELECT \"categories\".* FROM \"categories\" WHERE \"categories\".\"id\" = $1 LIMIT $2 [[\"id\", 3], [\"LIMIT\", 1]] Category Load (0.2ms) SELECT \"categories\".* FROM \"categories\" WHERE \"categories\".\"id\" = $1 LIMIT $2 [[\"id\", 3], [\"LIMIT\", 1]] Rails máº·c Ä‘á»‹nh vá»›i cÆ¡ cháº¿ lazy-load, tá»©c lÃ  á»©ng dá»¥ng sáº½ chá»‰ truy váº¥n tá»›i database khi dá»¯ liá»‡u Ä‘Æ°á»£c yÃªu cáº§u nhÆ° lÃ  khi sá»­ dá»¥ng cÃ¡c lá»‡nh all, first, count, each. VÃ¬ váº­y khi ta gá»i lá»‡nh each á»Ÿ Ä‘oáº¡n code trÃªn, Ä‘áº§u tiÃªn á»©ng dá»¥ng sáº½ query tá»›i 5 bÃ i post gáº§n nháº¥t (1 query). Rá»“i trong má»—i vÃ²ng láº·p láº¡i query tá»›i tá»«ng category tÆ°Æ¡ng á»©ng cá»§a cÃ¡c bÃ i post (5 query). Tá»•ng láº¡i ta cÃ³ 6 (5 + 1) query, Ä‘Ã³ lÃ  lÃ½ do táº¡i sao Ä‘Æ°á»£c gá»i lÃ  váº¥n Ä‘á» n + 1 query. Vá»›i vÃ­ dá»¥ nÃ y, sá»‘ lÆ°á»£ng query váº«n cÃ²n Ã­t nÃªn cÃ³ thá»ƒ cÃ¡c báº¡n chÆ°a tháº¥y váº¥n Ä‘á» gÃ¬ cáº£, vÃ  trÆ°á»›c Ä‘Ã¢y mÃ¬nh cÅ©ng nhÆ° váº­y, vÃ¬ chá»‰ toÃ n lÃ m nhá»¯ng project nhá» vÃ  Ä‘Æ¡n giáº£n thÃ´i mÃ . NhÆ°ng khi Ä‘i lÃ m á»Ÿ cÃ´ng ty, tiáº¿p xÃºc vá»›i há»‡ thá»‘ng dá»¯ liá»‡u lá»›n tá»›i hÃ ng triá»‡u báº£n ghi mÃ¬nh má»›i nháº­n ra sá»± khÃ¡c biá»‡t ráº¥t lá»›n. Khi Ä‘Ã³ náº¿u khÃ´ng xá»­ lÃ½ tá»‘t thay vÃ¬ (5 + 1) thÃ¬ sá»‘ lÆ°á»£ng query cÃ³ thá»ƒ lÃªn tá»›i (1.000.000 + 1) (náº¿u khÃ´ng dÃ¹ng paging, cÃ²n náº¿u cÃ³ paging thÃ¬ thÆ°á»ng sáº½ lÃ  100 + 1). LÃºc Ä‘Ã³ trang web load ráº¥t lÃ  lÃ¢u, vÃ  khi nhÃ¬n vÃ o cosole thÃ¬ thá»±c sá»± lÃ  kinh khá»§ng ğŸ˜±. Äáº·c biá»‡t trong trÆ°á»ng há»£p remote database, má»—i láº§n truy cáº­p Ä‘á»u tÃ­nh phÃ­ vÃ  tá»‘c Ä‘á»™ cÅ©ng khÃ´ng thá»ƒ nhanh báº±ng local database Ä‘Æ°á»£c thÃ¬ Ä‘Ã¢y lÃ  váº¥n Ä‘á» thá»±c sá»± Ä‘Ã¡ng pháº£i quan tÃ¢m. Äá»ƒ kháº¯c phá»¥c tÃ¬nh tráº¡ng nÃ y, Rails cung cáº¥p giáº£i phÃ¡p ráº¥t Ä‘Æ¡n giáº£n mÃ  há»¯u Ã­ch, Ä‘Ã³ lÃ  eager load. Váº­y cá»¥ thá»ƒ eager load lÃ ? ğŸ‘‡ Eager load trong Rails Eager load cho phÃ©p ta load dá»¯ liá»‡u tá»« báº£ng cÃ³ quan há»‡ ngay láº­p tá»©c, sáº½ khÃ´ng cáº§n pháº£i truy váº¥n tá»«ng Ä‘á»‘i tÆ°á»£ng. Cá»¥ thá»ƒ á»Ÿ Ä‘Ã¢y sáº½ load trá»±c tiáº¿p dá»¯ liá»‡u cá»§a Category vÃ o trong cÃ¡c Post ngay khi query tá»›i 5 bÃ i Ä‘Äƒng gáº§n nháº¥t. CÃ³ 3 phÆ°Æ¡ng phÃ¡p sá»­ dá»¥ng eager load lÃ  include, preload vÃ  eager_load. Váº­y 3 phÆ°Æ¡ng phÃ¡p nÃ y cÃ³ gÃ¬ khÃ¡c nhau, ta sáº½ thá»­ láº§n lÆ°á»£t vÃ o Ä‘oáº¡n code á»Ÿ trÃªn nhÃ© ğŸ˜‰. Ta chá»‰ cáº§n sá»­a dÃ²ng lá»‡nh Ä‘áº§u tiÃª","date":"2024-02-24","objectID":"/posts/giai_quyet_van_de_n_plus_1_trong_rails/:0:0","tags":null,"title":"Giáº£i quyáº¿t váº¥n Ä‘á» N + 1 queries trong Rails","uri":"/posts/giai_quyet_van_de_n_plus_1_trong_rails/"},{"categories":null,"content":"Äáº§u nÄƒm Ä‘Æ°á»£c báº¡n rá»§ Ä‘i Hakone chÆ¡i, cÃ³ ngÆ°á»i quen mÃ  cÅ©ng cÃ³ ngÆ°á»i khÃ´ng quen nÃªn lÃºc Ä‘áº§u cÅ©ng khÃ´ng biáº¿t nÃªn Ä‘i hay khÃ´ng, cÆ¡ mÃ  thÃ´i trÆ°á»›c láº¡ sau quen nÃªn cuá»‘i cÃ¹ng váº«n lÃ  cá»© Ä‘i thÃ´i ğŸ˜†. Hakone lÃ  Ä‘á»‹a Ä‘iá»ƒm cÃ³ nhiá»u suá»‘i nÆ°á»›c nÃ³ng ná»•i tiáº¿ng Ä‘Æ°á»£c nhiá»u ngÆ°á»i yÃªu thÃ­ch, chÆ°a ká»ƒ láº¡i cÃ²n ráº¥t dá»… Ä‘i tá»« Tokyo, lÃ  nÆ¡i vui chÆ¡i lÃ½ tÆ°á»Ÿng cho nhá»¯ng báº¡n khÃ´ng cÃ³ nhiá»u thá»i gian. ThÆ°á»ng thÃ¬ cÃ³ thá»ƒ Ä‘i láº¡i trong ngÃ y nhÆ°ng bá»n mÃ¬nh Ä‘i 2 ngÃ y 1 Ä‘Ãªm cho thoáº£i mÃ¡i. VÃ¬ Ä‘i gáº§n nÃªn cÅ©ng khÃ´ng cÃ³ gÃ¬ nhiá»u pháº£i chuáº©n bá»‹, cÃ³ láº½ 2 viá»‡c quan trá»ng nháº¥t lÃ  mua vÃ© tÃ u vÃ  Ä‘áº·t phÃ²ng trá». NhÆ°ng ráº¥t may lÃ  trong team cÃ³ Ä‘áº¡i lÃ½ TT bÃ©o do 2 Ä‘áº¡i ca TT vÃ  Ken cáº§m Ä‘áº§u Ä‘Ã£ giáº£i quyáº¿t giÃºp cáº£ bá»n. Thank 2 Ä‘áº¡i ca nhiá»u áº¡ ğŸ™‡. Xong 2 viá»‡c Ã½ thÃ¬ cÃ²n láº¡i chá»‰ lÃ  chuáº©n bá»‹ vÃ i bá»™ quáº§n Ã¡o áº¥m, 1 Ã­t tiá»n rá»“i xÃ¡ch balo lÃªn vÃ  Ä‘i thÃ´i. ÄÃ¢y lÃ  láº§n thá»© 2 mÃ¬nh Ä‘i chÆ¡i â€œkhÃ¡â€ xa táº¡i Nháº­t, láº§n trÆ°á»›c lÃ  leo nÃºi PhÃº Sá»¹. Cáº£ 2 láº§n Ä‘á»u xuáº¥t phÃ¡t tá»« Shinjuku nhÆ°ng láº§n nÃ y thÃ¬ gáº§n hÆ¡n, Ä‘i tÃ u chÆ°a máº¥t Ä‘áº¿n 2h lÃ  tá»›i nÆ¡i rá»“i ( bÃ¬nh thÆ°á»ng Ä‘i lÃ m cÅ©ng pháº£i gáº§n 1h rá»“i ğŸ˜‚). Äiá»ƒm dá»«ng chÃ¢n Ä‘áº§u tiÃªn lÃ  ga Hakone Yumoto. á» ga nÃ y ngoÃ i cÃ¡c suá»‘i nÆ°á»›c nÃ³ng ra thÃ¬ cÅ©ng cháº³ng cÃ³ gÃ¬ hay Ä‘á»ƒ xem nÃªn bá»n mÃ¬nh Ä‘i tháº³ng vá» phÃ²ng trá» Ä‘á»ƒ cáº¥t Ä‘á»“ luÃ´n. PhÃ²ng trá» gáº§n ga Gora, khÃ´ng xa ga nÃ y láº¯m, tÃ­nh theo Ä‘á»™ cao thÃ¬ chá»‰ cÃ¡ch khoáº£ng 500m thÃ´i, tháº¿ mÃ  Ä‘i tÃ u rÃµ lÃ  tá»‘n thá»i gian, cháº¯c pháº£i hÆ¡n 30â€™ áº¥y ğŸ˜¥. Nhá»› láº§n trÆ°á»›c leo nÃºi PhÃº Sá»¹ cÅ©ng tháº¿, má»—i táº§ng cÃ³ máº¥y trÄƒm mÃ©t mÃ  nhiá»u lÃºc tháº¥y xa kinh khá»§ng, Ä‘i mÃ£i khÃ´ng tá»›i, má»‡t gáº§n cháº¿t, tá»« Ä‘áº¥y cáº¡ch leo nÃºi luÃ´n =)))). May láº§n nÃ y lÃ  Ä‘i tÃ u nÃªn cÅ©ng khÃ´ng cáº£m tháº¥y má»‡t má»i gÃ¬ . Gá»­i Ä‘á»“ táº¡i phÃ²ng trá» xong má»i ngÆ°á»i Ä‘á»‹nh Ä‘i Äƒn luÃ´n, nhÆ°ng cÃ³ váº» ga Gora nÃ y khÃ´ng cÃ³ quÃ¡n nÃ o nhÃ© Ä‘á»§t hÆ¡n chá»¥c ngÆ°á»i nÃªn Ä‘Ã nh leo lÃªn Ä‘á»‰nh nÃºi trÆ°á»›c rá»“i Äƒn luÃ´n trÃªn Ã½ váº­y. ÄÆ°á»ng lÃªn nÃºi cÃ³ Ä‘Æ°á»ng bá»™ hay khÃ´ng thÃ¬ mÃ¬nh cÅ©ng khÃ´ng biáº¿t nhÆ°ng tháº¥y ai cÅ©ng Ä‘i cÃ¡p treo nÃªn cÃ³ láº½ lÃ  khÃ´ng cÃ³ rá»“i ( thá»±c ra thÃ¬ cÃ³ mÃ¬nh cÅ©ng khÃ´ng Ä‘i ğŸ˜” ). Ã€ ngoÃ i cÃ¡p treo ra thÃ¬ Ä‘oáº¡n Ä‘áº§u cÃ²n pháº£i Ä‘i báº±ng cable car ( ã‚±ãƒ¼ãƒ–ãƒ«ã‚«ãƒ¼ ) ná»¯a. ThÆ°á»ng thÃ¬ á»Ÿ viá»‡t nam cable car chÃ­nh lÃ  cÃ¡p treo rá»“i cÆ¡ mÃ  bÃªn nÃ y nÃ³ lÃ  loáº¡i nhÆ° hÃ¬nh trÃªn cÆ¡, cháº¯c gá»i lÃ  tÃ u Ä‘iá»‡n cÃ¡p treo cÅ©ng Ä‘c nhá»‰ ğŸ˜‚. CÃ²n cÃ¡p treo bÃªn mÃ¬nh hay gá»i thÃ¬ bÃªn nÃ y lÃ  ãƒ­ãƒ¼ãƒ—ã‚¦ã‚§ã‚¤. Äi cÃ¡p treo lÃªn Ä‘á»‰nh xong má»›i biáº¿t hoÃ¡ ra gáº§n nÃºi PhÃº Sá»¹ Ä‘áº¿n tháº¿. CÃ´ng nháº­n nhÃ¬n tá»« xa Ä‘áº¹p tháº­t, cÃ²n leo lÃªn thÃ¬â€¦. haizz. ÄÃ¢y má»›i lÃ  láº§n thá»© 2 mÃ¬nh Ä‘i cÃ¡p treo thÃ´i, nhÃ¬n xuá»‘ng cÅ©ng hÆ¡i run chÃ¢n Ä‘áº¥y ğŸ˜£. Máº¥y Ä‘á»©a cÃ²n Â¥ ngá»“i chÃ©m giÃ³ ra Ä‘á»§ tai náº¡n, nhÆ° Ä‘ang Ä‘i mÃ  cÃ¡p treo nÃ³ má»Ÿ sÃ n ra thÃ¬ tháº¿ nÃ o, hay tá»± nhiÃªn cá»­a má»Ÿ ra rá»“i nÃ³ háº¥t mÃ¬nh ra ngoÃ i thÃ¬ saoâ€¦ vÃ¢n vÃ¢n vÃ  mÃ¢y mÃ¢y =)))) Vá»«a lÃªn Ä‘áº¿n Ä‘á»‰nh nÃºi thÃ¬ Ä‘áº­p vÃ o máº¯t lÃ  quáº£ trá»©ng Ä‘en nÃ y ( é»’åµ ), ai cÅ©ng chá»¥p hÃ¬nh chung vá»›i nÃ³, vÃ  táº¥t nhiÃªn lÃ  mÃ¬nh cÅ©ng khÃ´ng ngoáº¡i lá»‡ ahihi. Quáº£ trá»©ng nÃ y cÃ³ váº» ná»•i tiáº¿ng láº¯m, há»i máº¥y anh ngÆ°á»i nháº­t á»Ÿ cÃ´ng ty mÃ  ai cÅ©ng biáº¿t. Nghe nÃ³i lÃ  Äƒn 1 quáº£ tÄƒng 7 nÄƒm tuá»•i thá», nÃªn cháº¯c cá»© 7 nÄƒm thÃ¬ lÃ m 1 chuyáº¿n Ä‘i Hakone thÃ´i nhá»‰ ğŸ¤”. Äi loanh quanh 1 tÃ­ thÃ¬ tháº¥y cÅ©ng cháº³ng cÃ³ gÃ¬ nhiá»u, toÃ n máº¥y cÃ¡i linh tinh thÃ´i. Xem xong cáº£ bá»n báº¯t Ä‘áº§u Ä‘i xuá»‘ng, Ã  táº¥t nhiÃªn lÃ  xuá»‘ng báº±ng Ä‘Æ°á»ng khÃ¡c rá»“i, trÃªn Ä‘Æ°á»ng xuá»‘ng cÃ²n táº¡t qua Ä‘i xem nhá»¯ng nÆ¡i khÃ¡c ná»¯a. CÃ³ láº½ ká»· niá»‡m Ä‘Ã¡ng nhá»› nháº¥t cá»§a chuyáº¿n Ä‘i nÃ y lÃ  bá»¯a tá»‘i ngÃ y hÃ´m Ã½. Má»›i 8h tá»‘i mÃ  cÃ¡c cá»­a hÃ ng Ä‘Ã£ Ä‘Ã³ng cá»­a háº¿t, tÃ¬m mÃ£i khÃ´ng cÃ³ quÃ¡n nÃ o Ä‘á»ƒ Äƒn. ÄÆ°á»ng thÃ¬ toÃ n dá»‘c tháº³ng Ä‘á»©ng láº¡i cÃ²n cao ná»¯a, vá»«a Ä‘i vá»«a nghÄ© khÃ´ng biáº¿t Ä‘i bao lÃ¢u má»›i háº¿t con dá»‘c nÃ y, vá»«a Ä‘Ã³i vá»«a má»‡t mÃ . LÃºc Ã½ má»›i biáº¿t tháº¿ nÃ o lÃ  trÃ¨o Ä‘Ã¨o Ä‘i tÃ¬m Ä‘á»“ Äƒn, may mÃ  cÃ²n chÆ°a cÃ³ lá»™i suá»‘i Ä‘áº¥y ğŸ˜¢. ÄÆ°á»ng thÃ¬ tá»‘i om, thá»‰nh thoáº£ng má»›i cÃ³ cÃ¡i Ä‘Ã¨n, Ä‘i Ä‘Ã´ng cÃ²n Ä‘á»¡ chá»© 1 mÃ¬nh thÃ¬ cÅ©ng thá»‘n Ä‘áº¥y ğŸ˜. Leo lÃªn leo xuá»‘ng máº¥y con dá»‘c cuá»‘i cÃ¹ng cÅ©ng tÃ¬m Ä‘Æ°á»£c cÃ¡i combini Daily Yamazaki, vÆ¡ vÃ©t Ä‘Æ°á»£c chÃºt Ä‘á»“ Äƒn xong lÃºc quay vá» sao mÃ  tháº¥y ngÆ°á»i nháº¹ nhÃ ng tháº¿ khÃ´ng biáº¿t =))) CÅ©ng nhá» chuyáº¿n Ä‘i nÃ y mÃ  mÃ¬nh Ä‘Ã£ há»c thÃªm Ä‘Æ°á»£c mÃ³n bi-a. Tá»« trÆ°á»›c Ä‘áº¿n giá» cÃ²n chÆ°a Ä‘á»™ng vÃ o láº§n nÃ o, má»›i chÆ¡i thÃ¬ hÆ¡i lÃ³ng ngÃ³ng cÆ¡ mÃ  sau 1 lÃºc quen dáº§n tháº¥y hay tháº­t, khi nÃ o cÃ³ cÆ¡ há»™i pháº£i chÆ¡i tiáº¿p má»›i Ä‘Æ°á»£c. HÆ¡i tiáº¿c lÃ  nhÃ  trá» chá»‰ cho chÆ¡i Ä‘áº¿n 10h tá»‘i thÃ´i, nÃªn máº¥y anh em Ä‘Ã nh Ä‘i ngá»§ sá»›m, dÃ¹ sa","date":"2024-02-24","objectID":"/posts/tan_huong_suoi_nuoc_nong_tai_hakono/:0:0","tags":null,"title":"Táº­n hÆ°á»Ÿng suá»‘i nÆ°á»›c nÃ³ng táº¡i Hakone","uri":"/posts/tan_huong_suoi_nuoc_nong_tai_hakono/"},{"categories":null,"content":"Trong bÃ i viáº¿t trÆ°á»›c chÃºng ta Ä‘Ã£ CÃ¹ng nhau tÃ¬m hiá»ƒu vá» Continuous Integration. VÃ¬ váº­y nhÆ° Ä‘Ã£ há»©a, hÃ´m nay mÃ¬nh sáº½ hÆ°á»›ng dáº«n cÃ¡c báº¡n cÃ i Ä‘áº·t vÃ  sá»­ dá»¥ng 1 trong cÃ¡c cÃ´ng cá»¥ CI phá»• biáº¿n hiá»‡n nay - CircleCI khi phÃ¡t triá»ƒn á»©ng dá»¥ng vá»›i Ruby on Rails. 1. ÄÄƒng kÃ½ tÃ i khoáº£n BÆ°á»›c Ä‘áº§u tiÃªn cÃ¡c báº¡n cáº§n Ä‘Äƒng kÃ½ tÃ i khoáº£n cá»§a CircleCI. Hiá»‡n táº¡i cÃ´ng cá»¥ nÃ y chá»‰ há»— trá»£ Ä‘Äƒng kÃ½ báº±ng tÃ i khoáº£n Github hoáº·c Bitbucket: Truy cáº­p trang Ä‘Äƒng kÃ½ https://circleci.com/signup/ Chá»n Ä‘Äƒng kÃ½ báº±ng Github hoáº·c Bitbucket. Äiá»n thÃ´ng tin username, password vÃ  xÃ¡c nháº­n báº£o máº­t 2 lá»›p (náº¿u cÃ³) rá»“i chá»n Ä‘Äƒng nháº­p. Sau khi chá»n Authorize Application thÃ¬ Dashboard cá»§a CircleCI sáº½ hiá»‡n ra. Äáº¿n Ä‘Ã¢y cÃ¡c báº¡n Ä‘Ã£ táº¡o tÃ i khoáº£n thÃ nh cÃ´ng, nhÆ°ng Ä‘á»ƒ báº¯t Ä‘áº§u thÃ¬ cÃ²n pháº£i config trong Rails Ä‘á»ƒ CircleCI cÃ³ thá»ƒ nháº­n diá»‡n vÃ  thá»±c thi cÃ´ng viá»‡c theo yÃªu cáº§u. 2. Config CircleCI trong Rails Trong project táº¡o thÆ° má»¥c tÃªn lÃ  .circleci, vÃ  táº¡o file config.yml ( nhÆ° váº­y filepath sáº½ lÃ  .circleci/config.yml ). Vá» ná»™i dung cá»§a file config.yml thÃ¬ tuá»³ tá»«ng project, tá»«ng cÃ´ng viá»‡c ta muá»‘n CircleCI thá»±c hiá»‡n mÃ  sáº½ khÃ¡c nhau, vÃ¬ váº­y trong bÃ i nÃ y mÃ¬nh sáº½ láº¥y file config.yml cá»§a nddblog lÃ m vÃ­ dá»¥ ğŸ˜. # Ruby CircleCI 2.0 configuration file # # Check https://circleci.com/docs/2.0/language-ruby/ for more details # version: 2 jobs: build: docker: # specify the version you desire here - image: circleci/ruby:2.5.3-node-browsers environment: RAILS_ENV: test # Specify service dependencies here if necessary # CircleCI maintains a library of pre-built images # documented at https://circleci.com/docs/2.0/circleci-images/ - image: circleci/postgres:10.6 environment: POSTGRES_USER: dinhduc working_directory: ~/repo steps: - checkout # Download and cache dependencies - restore_cache: keys: - v1-dependencies-{{ checksum \"Gemfile.lock\" }} # fallback to using the latest cache if no exact match is found - v1-dependencies- - run: name: install dependencies command: | bundle install --jobs=4 --retry=3 --path vendor/bundle - save_cache: paths: - ./vendor/bundle key: v1-dependencies-{{ checksum \"Gemfile.lock\" }} # Database setup - run: name: Set up DB command: | bundle exec rake db:create bundle exec rake db:migrate # Run rubocop - run: name: Run rubocop command: bundle exec rubocop # Run tests! - run: name: run tests command: | mkdir /tmp/test-results TEST_FILES=\"$(circleci tests glob 'spec/**/*_spec.rb' | circleci tests split --split-by=timings)\" bundle exec rspec --format progress \\ --format RspecJunitFormatter \\ --out /tmp/test-results/rspec.xml \\ --format progress \\ $TEST_FILES # collect reports - store_test_results: path: /tmp/test-results - store_artifacts: path: /tmp/test-results destination: test-results MÃ¬nh sáº½ giáº£i thÃ­ch tá»«ng pháº§n Ä‘á»ƒ cÃ¡c báº¡n dá»… hÃ¬nh dung nhÃ© ğŸ˜‰. version: version cá»§a CircleCI, hiá»‡n nay Ä‘Ã£ ra tá»›i 2.1 nhÆ°ng trong project cá»§a mÃ¬nh váº«n lÃ  2 thÃ´i, chÆ°a cÃ³ thá»i gian update mÃ  ğŸ˜¥ jobs: cÃ¡c job cáº§n pháº£i thá»±c hiá»‡n má»—i khi build trÃªn CircleCI. build: tÃªn job. docker: lÃ  executor, nÃ³i Ä‘Æ¡n giáº£n lÃ  nÆ¡i Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c job. CÃ³ 3 loáº¡i executor khÃ¡c nhau: docker, machine vÃ  macos. image: tÃªn image sáº½ Ä‘Æ°á»£c sá»­ dá»¥ng trong docker, vÃ  nhá»¯ng image nÃ y Ä‘Æ°á»£c láº¥y tá»« dockerhub. Trong nddblog mÃ¬nh sá»­ dá»¥ng 2 image lÃ  ruby - dÃ¹ng Ä‘á»ƒ cháº¡y project vÃ  postgres - dÃ¹ng Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u. environment: cÃ¡c biáº¿n mÃ´i trÆ°á»ng cá»§a tá»«ng image. RAILS_ENV cÃ i Ä‘áº·t mÃ´i trÆ°á»ng rails trÃªn CircleCI lÃ  test. POSTGRES_USER cÃ i Ä‘áº·t username cho database. LÆ°u Ã½ username á»Ÿ Ä‘Ã¢y vÃ  trong file config/database.yml pháº£i giá»‘ng nhau. working_directory: thÆ° má»¥c lÆ°u trá»¯ source code. steps: cÃ¡c bÆ°á»›c thá»±c hiá»‡n trong job. checkout: láº¥y code cá»§a nhÃ¡nh Ä‘ang build tá»« github hoáº·c bitbucket vá». restore_cache: restore cÃ¡c dependencies Ä‘Ã£ Ä‘Æ°á»£c cache tá»« láº§n build trÆ°á»›c náº¿u cÃ³. run: thá»±c hiá»‡n cÃ¡c command line. Trong file mÃ¬nh cÃ³ 4 lá»‡nh run láº§n lÆ°á»£t lÃ  cÃ i Ä‘áº·t cÃ¡c dependencies, táº¡o vÃ o migrate database, cháº¡y test rubocop vÃ  cháº¡y rspec test. Náº¿u cÃ¡c báº¡n cáº§n cháº¡y lá»‡nh nÃ o khÃ¡c cÃ³ thá»ƒ thÃªm thoáº£i mÃ¡i. save_cache: lÆ°u cache láº¡i cÃ¡c dependencies. store_test_results: lÆ°","date":"2024-02-24","objectID":"/posts/tich_hop_circleci_trong_phat_trien_ung_dung_ruby_on_rails/:0:0","tags":null,"title":"TÃ­ch há»£p CircleCI trong phÃ¡t triá»ƒn á»©ng dá»¥ng Ruby on Rails","uri":"/posts/tich_hop_circleci_trong_phat_trien_ung_dung_ruby_on_rails/"},{"categories":null,"content":"Cháº¯c háº³n nhiá»u báº¡n cÅ©ng Ä‘Ã£ tá»«ng nghe Ä‘áº¿n cá»¥m tá»« Continuous Integration ( gá»i táº¯t lÃ  CI ), váº­y cÃ¡c báº¡n cÃ³ tá»«ng tháº¯c máº¯c CI nghÄ©a lÃ  gÃ¬, vÃ  táº¡i sao láº¡i cáº§n Ä‘áº¿n nÃ³ khÃ´ng? Náº¿u cÃ³ hÃ£y cÃ¹ng mÃ¬nh tÃ¬m hiá»ƒu thÃ´ng qua bÃ i viáº¿t nÃ y nhÃ© ğŸ˜‹. 1. Continuous Integration lÃ ? Continuous Integration lÃ  cÃ¡ch thá»©c phÃ¡t triá»ƒn pháº§n má»m DevOps, trong Ä‘Ã³ cÃ¡c láº­p trÃ¬nh viÃªn thÆ°á»ng xuyÃªn merge ( hay commit ) code cá»§a há» vÃ o cÃ¡c central repo ( nhÆ° github, gitlabâ€¦ ), sau Ä‘Ã³ nhá»¯ng Ä‘oáº¡n code sáº½ Ä‘Æ°á»£c build vÃ  test 1 cÃ¡ch tá»± Ä‘á»™ng. CI thÆ°á»ng lÃ  nÃ³i Ä‘áº¿n giai Ä‘oáº¡n build vÃ  tÃ­ch há»£p Ä‘oáº¡n code má»›i vÃ o quÃ¡ trÃ¬nh release cá»§a pháº§n má»m. 2. Táº¡i sao láº¡i cáº§n Continuous Integration? ThÃ´ng thÆ°á»ng, cÃ¡c láº­p trÃ¬nh viÃªn thÆ°á»ng lÃ m viá»‡c Ä‘á»™c láº­p trong 1 thá»i gian dÃ i vÃ  chá»‰ merge code vÃ o nhÃ¡nh master khi há» Ä‘Ã£ hoÃ n thÃ nh cÃ´ng viá»‡c. ChÆ°a ká»ƒ Ä‘áº¿n sau khi merge cÃ²n cáº§n pháº£i chá» review, cÃ³ khi pháº£i Ä‘á»£i Ä‘áº¿n vÃ i ngÃ y hay cáº£ tuáº§n. Äiá»u nÃ y dáº«n Ä‘áº¿n viá»‡c merge code gáº·p khÃ³ khÄƒn, tiÃªu tá»‘n nhiá»u thá»i gian, vÃ  Ä‘á»“ng thá»i cÅ©ng táº¡o ra nhiá»u bugs, conflictsâ€¦ khi mÃ  code khÃ´ng Ä‘Æ°á»£c cáº­p nháº­t trong thá»i gian dÃ i. CI giÃºp tÃ¬m ra bug ngay tá»« sá»›m trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn, giÃºp viá»‡c sá»­a chá»¯a tá»‘n Ã­t cÃ´ng sá»©c hÆ¡n, tá»« Ä‘Ã³ cáº£i thiá»‡n cháº¥t lÆ°á»£ng pháº§n má»m, giáº£m thá»i gian review code, Ä‘á»“ng thá»i rÃºt ngáº¯n thá»i gian release cÃ¡c chá»©c nÄƒng má»›i cá»§a sáº£n pháº©m. Viá»‡c test tá»± Ä‘á»™ng Ä‘Æ°á»£c cháº¡y vá»›i má»—i láº§n commit hay pull, Ä‘áº£m báº£o nhÃ¡nh master luÃ´n trong tráº¡ng thÃ¡i á»•n Ä‘á»‹nh, khÃ´ng bug. 3. CÃ¡ch thá»©c hoáº¡t Ä‘á»™ng cá»§a Continuous Integration Vá»›i continuos integration, láº­p trÃ¬nh viÃªn thÆ°á»ng sá»­ dá»¥ng git Ä‘á»ƒ commit hay merge code cá»§a há» vÃ o cÃ¡c central repo nhÆ° GitHub, GitLabâ€¦ TrÃªn hÃ¬nh lÃ  1 workflow phá»• biáº¿n cá»§a CI. ThÆ°á»ng thÃ¬ mÃ¬nh sáº½ thÃªm 1 bÆ°á»›c lÃ  cháº¡y test táº¡i local trÆ°á»›c, kiá»ƒm tra tháº­t ká»¹ code cá»§a mÃ¬nh, khi xÃ¡c Ä‘á»‹nh khÃ´ng cÃ³ lá»—i thÃ¬ má»›i push lÃªn. LÃ m nhÆ° váº­y sáº½ giáº£m sá»‘ láº§n test trÃªn server, vÃ¬ CI Ä‘Æ°á»£c dÃ¹ng chung cho cáº£ team, tÃ i nguyÃªn cÃ³ háº¡n, náº¿u quÃ¡ nhiá»u build cÃ¹ng lÃºc thÃ¬ sáº½ cÃ³ ngÆ°á»i pháº£i chá», vÃ  táº¥t nhiÃªn lÃ  cháº³ng ai muá»‘n pháº£i chá» rá»“i Ä‘Ãºng khÃ´ng ğŸ˜‚. HÆ¡n ná»¯a viá»‡c Ä‘Ã³ cÅ©ng cho tháº¥y báº£n thÃ¢n lÃ  ngÆ°á»i cáº©n tháº­n, sáº½ Ä‘Æ°á»£c Ä‘á»“ng nghiá»‡p Ä‘Ã¡nh giÃ¡ cao hÆ¡n ğŸ˜œ. Sau khi push code lÃªn, thÃ´ng thÆ°á»ng sáº½ lÃ  gá»­i pull request vÃ o nhÃ¡nh master. LÃºc nÃ y trÃªn server sáº½ tá»± Ä‘á»™ng build vÃ  cháº¡y test. Náº¿u nhÆ° cÃ³ lá»—i xáº£y ra thÃ¬ sáº½ Ä‘Æ°á»£c thÃ´ng bÃ¡o cho cÃ¡c thÃ nh viÃªn trong project, ngÆ°á»i chá»‹u trÃ¡ch nhiá»‡m cho pull Ä‘Ã³ ngay láº­p tá»©c sá»­a code rá»“i push lÃªn láº§n ná»¯a, cá»© láº·p láº¡i nhÆ° váº­y cho tá»›i khi táº¥t cáº£ cÃ¡c test Ä‘á»u thÃ nh cÃ´ng. Táº¥t nhiÃªn Ä‘Ã¢y chá»‰ lÃ  thÃ´ng qua cÃ¡c test case Ä‘Ã£ Ä‘Æ°á»£c viáº¿t trÆ°á»›c, cÃ²n vá» logic cá»§a Ä‘oáº¡n code thÃ¬ váº«n cáº§n cÃ³ ngÆ°á»i review, náº¿u ok thÃ¬ lÃºc Ä‘Ã³ má»›i Ä‘Æ°á»£c merge vÃ o nhÃ¡nh master. 4. Má»™t sá»‘ tool Continuos Integration phá»• biáº¿n Jenkins: LÃ  cÃ´ng cá»¥ mÃ£ nguá»“n má»Ÿ Ä‘Æ°á»£c viáº¿t báº±ng java do Kohsuke Kawaguchi ( nhÃ¢n viÃªn cá»§a Sun Microsystem thá»i Ä‘iá»ƒm Ä‘Ã³ ) viáº¿t ra. Jenkins ná»•i báº­t trong cÃ¡c cÃ´ng cá»¥ CI ngoÃ i yáº¿u tá»‘ miá»…n phÃ­ thÃ¬ cÃ²n nhá» tÃ­nh linh hoáº¡t, nhiá»u plugin cÃ³ thá»ƒ Ä‘Æ°á»£c tÃ­ch há»£p 1 cÃ¡ch dá»… dÃ ng. TeamCity: LÃ  cÃ´ng cá»¥ CI server máº¡nh máº½, Ä‘Æ°á»£c phÃ¡t triá»ƒn bá»Ÿi cÃ´ng ty JetBrains, cÃ¡i tÃªn cÃ³ láº½ khÃ´ng xa láº¡ gÃ¬ vá»›i dÃ¢n dev chÃºng ta. CÃ´ng ty nÃ y cÃ³ ráº¥t nhiá»u sáº£n pháº©m ná»•i tiáº¿ng nhÆ° WebStorm, RubyMine, ReSharperâ€¦. TeamCity cung cáº¥p Ä‘áº§y Ä‘á»§ tÃ­nh nÄƒng cho phiÃªn báº£n miá»…n phÃ­ nhÆ°ng giá»›i háº¡n cho 100 láº§n build cáº¥u hÃ¬nh ( tuá»³ chá»‰nh config cá»§a CI ) vÃ  3 build agents ( cho phÃ©p cháº¡y song song 3 build cÃ¹ng lÃºc ). CÃ´ng cá»¥ nÃ y cháº¡y trÃªn nhiá»u ná»n táº£ng vÃ  há»— trá»£ nhiá»u cÃ´ng cá»¥ cÅ©ng nhÆ° framework khÃ¡c nhau. Äá»“ng thá»i cÅ©ng cÃ³ lÆ°á»£ng lá»›n plugins Ä‘Æ°á»£c phÃ¡t triá»ƒn bá»›i JetBrains cÅ©ng nhÆ° cÃ¡c bÃªn thá»© 3. Travis CI: LÃ  1 trong nhá»¯ng giáº£i phÃ¡p mÃ¡y chá»§ hosted CI lÃ¢u Ä‘á»i nháº¥t vÃ  Ä‘Æ°á»£c má»i ngÆ°á»i tin dÃ¹ng. Máº·c dÃ¹ thÆ°á»ng Ä‘Æ°á»£c biáº¿t Ä‘áº¿n lÃ  giáº£i phÃ¡p mÃ¡y chá»§ lÆ°u trá»¯ ( hosted ), nhÆ°ng nÃ³ cÅ©ng cung cáº¥p phiÃªn báº£n dÃ nh cho cÃ¡c doanh nghiá»‡p. Travis CI miá»…n phÃ­ cho táº¥t cáº£ cÃ¡c pháº§n má»m mÃ£ nguá»“n má»Ÿ Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn GitHub. NhÆ°ng ngÆ°á»£c láº¡i náº¿u khÃ´ng pháº£i thÃ¬ chá»‰ Ä‘Æ°á»£c 100 build Ä‘áº§u tiÃªn. CÃ³ 1 vÃ i má»©c giÃ¡ khÃ¡c nhau cÃ³ thá»ƒ lá»±a chá»n, khÃ¡c biá»‡t chá»§ yáº¿u lÃ  sá»‘ lÆ°á»£ng build cÃ³ thá»ƒ cháº¡y cÃ¹ng lÃºc. Circle CI: cÃ´ng cá»¥ Ä‘Æ°á»£c phÃ¡t t","date":"2024-02-23","objectID":"/posts/cung_nhau_tim_hieu_ve_continuous_integration/:0:0","tags":null,"title":"CÃ¹ng nhau tÃ¬m hiá»ƒu vá» Continuous Integration","uri":"/posts/cung_nhau_tim_hieu_ve_continuous_integration/"},{"categories":null,"content":"Ká»ƒ tá»« bÃ i viáº¿t trÆ°á»›c cÅ©ng Ä‘Ã£ pháº£i hÆ¡n 2 thÃ¡ng rá»“i nhá»‰, cá»© má»—i láº§n Ä‘á»™ng vÃ o Ä‘á»‹nh viáº¿t gÃ¬ Ä‘Ã³ mÃ  khÃ´ng nghÄ© ra gÃ¬ lÃ  mÃ¬nh láº¡i thÃ´i ğŸ˜‚. HÃ´m nay pháº£i cá»‘ gáº¯ng láº¯m má»›i ngá»“i Ä‘Æ°á»£c vÃ o mÃ¡y tÃ­nh gÃµ ra vÃ i dÃ²ng. Sau 1 há»“i Ä‘áº¯n Ä‘o suy nghÄ© thÃ¬ mÃ¬nh quyáº¿t Ä‘á»‹nh viáº¿t vá» nhá»¯ng kiáº¿n thá»©c cÅ©ng nhÆ° kinh nghiá»‡m Ä‘Ã£ há»c Ä‘Æ°á»£c tá»« khi Ä‘i lÃ m Ä‘áº¿n giá» ğŸ˜. TrÆ°á»›c Ä‘Ã¢y má»—i láº§n cáº§n tÃ¬m kiáº¿m hay sáº¯p xáº¿p dá»¯ liá»‡u mÃ¬nh Ä‘á»u tá»± viáº¿t cÃ¡c cÃ¢u query, tuy ráº±ng rails cÅ©ng cÃ³ sáºµn nhá»¯ng method nhÆ° where, find, order â€¦ nhÆ°ng nhiá»u lÃºc váº«n khÃ¡ lÃ  váº¥t váº£, nháº¥t lÃ  khi pháº£i query qua nhiá»u thuá»™c tÃ­nh. Gáº§n Ä‘Ã¢y má»›i biáº¿t thÃªm 1 gem ráº¥t thÃº vá»‹ lÃ  Ransack - giÃºp giáº£i quyáº¿t váº¥n Ä‘á» tÃ¬m kiáº¿m vÃ  sáº¯p xáº¿p 1 cÃ¡ch nhanh chÃ³ng vÃ  hiá»‡u quáº£ ğŸ˜. Trong bÃ i nÃ y mÃ¬nh sáº½ giá»›i thiá»‡u sÆ¡ qua cÃ¡ch cÃ i Ä‘áº·t cÅ©ng nhÆ° cÃ¡ch sá»­ dá»¥ng gem nÃ y. CÃ i Ä‘áº·t Ransack tÆ°Æ¡ng thÃ­ch vá»›i Rails 5.0, 5.1 vÃ  5.2 vÃ  phiÃªn báº£n Ruby tá»« sau 2.2. Náº¿u báº¡n sá»­ dá»¥ng Rails \u003c 5.0 thÃ¬ hÃ£y dÃ¹ng ruby 1.8. Náº¿u nhÆ° vá»›i ruby 1.8 hay JRuby mÃ  gáº·p pháº£i váº¥n Ä‘á», hÃ£y sá»­ dá»¥ng cÃ¡c phiÃªn báº£n trÆ°á»›c cá»§a Ransack (tá»« 1.3.0 trá»Ÿ xuá»‘ng). Äá»ƒ cÃ i Ä‘áº·t báº¡n thÃªm dÃ²ng sau vÃ o Gemfile gem 'ransack' Náº¿u cÃ¡c báº¡n muá»‘n sá»­ dá»¥ng phiÃªn báº£n má»›i nháº¥t thÃ¬ hÃ£y sá»­ dá»¥ng nhÃ¡nh master gem 'ransack', github: 'activerecord-hackery/ransack' CÃ¡ch sá»­ dá»¥ng Trong controller Method ransack dÃ¹ng Ä‘á»ƒ tÃ¬m kiáº¿m dá»¯ trong database dá»±a vÃ o cÃ¡c Ä‘iá»u kiá»‡n Ä‘Æ°á»£c truyá»n tá»« params[:q], sau Ä‘Ã³ káº¿t quáº£ Ä‘Æ°á»£c láº¥y ra thÃ´ng qua method result. def index @q = Person.ransack(params[:q]) @people = @q.result(distinct: true) end Khi dÃ¹ng vá»›i pagination nhÆ° kaminari thÃ¬ khÃ´ng thá»ƒ dÃ¹ng distinct: true, nÃªn hÃ£y sá»­ dá»¥ng .to_a.uniq: @people = @q.result.includes(:articles).page(params[:page]).to_a.uniq Trong view 2 helper method chÃ­nh lÃ  search_form_for vÃ  sort_link, Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trong Ransack::Helpers::FormHelper. search_form_for thay tháº¿ cho form_for Ä‘á»ƒ táº¡o search form trong view vá»›i tham sá»‘ Ä‘áº§u máº·c Ä‘á»‹nh lÃ  q ( params[:q] ) \u003c%= search_form_for @q do |f| %\u003e # TÃ¬m cÃ¡c pháº§n tá»­ cÃ³ thuá»™c tÃ­nh name chá»©a... \u003c%= f.label :name_cont %\u003e \u003c%= f.search_field :name_cont %\u003e # TÃ¬m cÃ¡c pháº§n tá»­ náº¿u trong cÃ¡c articles liÃªn káº¿t tá»“n táº¡i article cÃ³ title chá»©a... \u003c%= f.label :articles_title_start %\u003e \u003c%= f.search_field :articles_title_start %\u003e # CÃ¡c thuá»™c tÃ­nh cÃ³ thá»ƒ Ä‘Æ°á»£c ná»‘i liá»n vÃ  Ä‘Æ°á»£c tÃ¬m kiáº¿m vá»›i 1 giÃ¡ trá»‹ duy nháº¥t. \u003c%= f.label :name_or_description_or_email_or_articles_title_cont %\u003e \u003c%= f.search_field :name_or_description_or_email_or_articles_title_cont %\u003e \u003c%= f.submit %\u003e \u003c% end %\u003e Tham sá»‘ cá»§a f.search_field pháº£i Ä‘Æ°á»£c viáº¿t dÆ°á»›i dáº¡ng nhÆ° sau: attribute_name[_or_attribute_name]..._predicate. Trong Ä‘Ã³ attribute_name lÃ  tÃªn trÆ°á»ng ( thuá»™c tÃ­nh ) cá»§a model, _or_ lÃ  káº¿t há»£p thÃªm dá»¯ liá»‡u cá»§a trÆ°á»ng ( thuá»™c tÃ­nh ) khÃ¡c, cÃ²n _predicate lÃ  cont ( chá»©a ), start ( báº¯t Ä‘áº§u vá»›i )â€¦ NhÆ° vÃ­ dá»¥ á»Ÿ trÃªn name_or_description_or_email_or_articles_title_cont tá»©c lÃ  tÃ¬m cÃ¡c Person cÃ³ name hoáº·c description hoáº·c email hoáº·c ( tá»“n táº¡i article trong cÃ¡c articles liÃªn káº¿t cÃ³ title ) chá»©a chuá»—i Ä‘Æ°á»£c nháº­p vÃ o form. Äá»ƒ truyá»n format ta lÃ m nhÆ° sau: \u003c%= search_form_for(@q, format: :pdf) do |f| %\u003e \u003c%= search_form_for(@q, format: :json) do |f| %\u003e sort_link giÃºp header cá»§a cÃ¡c table cÃ³ tháº¿ sáº¯p xáº¿p theo thá»© tá»± tÃ¹y theo tá»«ng loáº¡i dá»¯ liá»‡u ( text, date,â€¦ ) \u003c%= sort_link(@q, :name) %\u003e CÃ³ thá»ƒ truyá»n thÃªm cÃ¡c tham sá»‘ khÃ¡c nhÆ° tÃªn header, kiá»ƒu sáº¯p xáº¿p máº·c Ä‘á»‹nh: \u003c%= sort_link(@q, :name, 'Last Name', default_order: :desc) %\u003e Sáº¯p xáº¿p vá»›i nhiá»u trÆ°á»ng khÃ¡c nhau: \u003c%= sort_link(@q, :last_name, [:last_name, 'first_name asc'], 'Last Name') %\u003e NhÆ° vÃ­ dá»¥ trÃªn, Ä‘áº§u tiÃªn sáº½ xáº¿p theo last_name rá»“i Ä‘áº¿n first_name. Trong trÆ°á»ng há»£p báº¡n muá»‘n sáº¯p xáº¿p theo cÃ¡c giÃ¡ trá»‹ phá»©c táº¡p, nhÆ° káº¿t quáº£ cá»§a 1 lá»‡nh SQL báº¡n cÃ³ thá»ƒ dÃ¹ng scope. Trong model báº¡n Ä‘á»‹nh nghÄ©a scope vá»›i cÃ¡c thuá»™c tÃ­nh áº£o mÃ  báº¡n muá»‘n dÃ¹ng Ä‘á»ƒ sáº¯p xáº¿p: class Person \u003c ActiveRecord::Base scope :sort_by_reverse_name_asc, lambda { order(\"REVERSE(name) ASC\") } scope :sort_by_reverse_name_desc, lambda { order(\"REVERSE(name) DESC\") } ... sau Ä‘Ã³ sá»­ dá»¥ng trong view nhÆ° sau: \u003c%= sort_link(@q, :reverse_name) %\u003e sort_link khi render trÃªn view sáº½ Ä‘Æ°á»£c hiá»ƒ","date":"2024-02-23","objectID":"/posts/ransack_cong_cu_tim_kiem_hieu_qua/:0:0","tags":null,"title":"Ransack - cÃ´ng cá»¥ tuyá»‡t vá»i giÃºp tÃ¬m kiáº¿m vÃ  sáº¯p xáº¿p dá»¯ liá»‡u Ä‘Æ¡n giáº£n hÆ¡n","uri":"/posts/ransack_cong_cu_tim_kiem_hieu_qua/"},{"categories":null,"content":"Xin chÃ o cÃ¡c báº¡n, mÃ¬nh lÃ  Äá»©c, ngÆ°á»i táº¡o ra NDDBlog nÃ y. Cháº¯c háº³n nhÃ¬n tÃªn lÃ  cÃ¡c báº¡n Ä‘Ã£ hiá»ƒu vÃ¬ sao blog nÃ y láº¡i cÃ³ tÃªn nhÆ° váº­y rá»“i nhá»‰ ğŸ˜„. ÄÃ¢y lÃ  bÃ i viáº¿t Ä‘áº§u tiÃªn, vÃ¬ váº­y mÃ¬nh muá»‘n giá»›i thiá»‡u báº£n thÃ¢n 1 chÃºt vÃ  lÃ½ do vÃ¬ sao blog nÃ y ra Ä‘á»i. MÃ¬nh tá»‘t nghiá»‡p Ä‘áº¡i há»c BÃ¡ch Khoa HÃ  Ná»™i thÃ¡ng 7/2017. Sau Ä‘Ã³ thÃ¬ mÃ¬nh á»Ÿ nhÃ  há»c tiáº¿ng Nháº­t vÃ  tÃ¬m kiáº¿m cÃ´ng viá»‡c bÃªn Nháº­t. Äáº¿n thÃ¡ng 3 nÄƒm nay (2018) mÃ¬nh Ä‘Æ°á»£c nháº­n vÃ o GA technologies vÃ  báº¯t Ä‘áº§u lÃ m viá»‡c bÃªn Nháº­t tá»« Ä‘Ã³. Vá» lÃ½ do vÃ  quÃ¡ trÃ¬nh mÃ¬nh tÃ¬m kiáº¿m cÃ´ng viá»‡c táº¡i cÃ´ng ty Nháº­t thÃ¬ khi nÃ o cÃ³ thá»i gian ráº£nh mÃ¬nh sáº½ viáº¿t 1 bÃ i riÃªng. CÃ´ng viá»‡c thÃ¬ khi cÃ²n há»c Ä‘áº¡i há»c mÃ¬nh hay lÃ m á»©ng dá»¥ng Android, nhÆ°ng khi Ä‘Æ°á»£c tuyá»ƒn vÃ o cÃ´ng ty mÃ¬nh Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh lÃ m vá» Rails, phÃ¡t triá»ƒn há»‡ thá»‘ng ná»™i bá»™ cá»§a cÃ´ng ty. CÅ©ng may trÆ°á»›c mÃ¬nh Ä‘Ã£ tá»«ng há»c qua vá» Rails nÃªn cÅ©ng khÃ´ng Ä‘áº¿n má»©c khÃ³ khÄƒn láº¯m. CÃ³ láº½ giá»›i thiá»‡u vá» báº£n thÃ¢n nhÆ° váº­y lÃ  Ä‘á»§ rá»“i, náº¿u cÃ¡c báº¡n cÃ³ há»©ng thÃº cÃ³ thá»ƒ xem chá»‰ tiáº¿t hÆ¡n á»Ÿ má»¥c about. Vá» pháº§n táº¡i sao blog nÃ y láº¡i ra Ä‘á»i thÃ¬ chá»§ yáº¿u mÃ¬nh muá»‘n cÃ³ 1 nÆ¡i Ä‘á»ƒ viáº¿t láº¡i nhá»¯ng kinh nghiá»‡m cá»§a báº£n thÃ¢n, khÃ´ng chá»‰ trong cÃ´ng viá»‡c mÃ  trong cáº£ Ä‘á»i sá»‘ng, Ä‘áº·c biá»‡t lÃ  cuá»™c sá»‘ng bÃªn Nháº­t. NhÆ° váº­y sau nÃ y mÃ¬nh Ä‘á»c láº¡i cÅ©ng dá»… dÃ ng hÆ¡n. Äá»“ng thá»i náº¿u nhÆ° cÃ³ ngÆ°á»i Ä‘á»c vÃ  bÃ i viáº¿t cá»§a mÃ¬nh cÃ³ thá»ƒ giÃºp Ã­ch Ä‘Æ°á»£c cho há» thÃ¬ khÃ´ng cÃ²n gÃ¬ tá»‘t hÆ¡n ğŸ˜‡. Tá»« trÆ°á»›c Ä‘áº¿n giá» kháº£ nÄƒng viáº¿t lÃ¡ch cá»§a mÃ¬nh Ä‘á»u ráº¥t kÃ©m, nÃªn mong ráº±ng thÃ´ng qua viá»‡c viáº¿t blog thÆ°á»ng xuyÃªn cÃ³ thá»ƒ cáº£i thiá»‡n ká»¹ nÄƒng nÃ y. Náº¿u mÃ¬nh viáº¿t cÃ³ gÃ¬ khÃ´ng Ä‘Ãºng, mong cÃ¡c ae nÃ©m Ä‘Ã¡ nhiá»‡t tÃ¬nh Ä‘á»ƒ mÃ¬nh sá»­a nhÃ©. Háº¹n gáº·p láº¡i!!! ğŸ‘‹ ","date":"2024-02-23","objectID":"/posts/loi_noi_dau/:0:0","tags":null,"title":"Lá»i nÃ³i Ä‘áº§u","uri":"/posts/loi_noi_dau/"}]